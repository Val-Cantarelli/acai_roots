"use strict";(self["webpackChunksecondpart_vue_prject"]=self["webpackChunksecondpart_vue_prject"]||[]).push([[774],{8774:function(t,e,s){s.r(e),s.d(e,{default:function(){return j}});var a=s(3396);const o={class:"main-container"},i=(0,a._)("h1",null," Gerenciar pedidos: ",-1);function n(t,e,s,n,d,l){const r=(0,a.up)("DashboardComp");return(0,a.wg)(),(0,a.iD)("div",o,[i,(0,a.Wm)(r)])}var d=s(7139);const l=t=>((0,a.dD)("data-v-647be500"),t=t(),(0,a.Cn)(),t),r={key:0,id:"acai-table"},u=l((()=>(0,a._)("div",null,[(0,a._)("div",{id:"acai-table-heading"},[(0,a._)("div",{class:"order-id"},"#:"),(0,a._)("div",null,"Cliente: "),(0,a._)("div",null,"Tamanho do Copo: "),(0,a._)("div",null,"Fruta de base: "),(0,a._)("div",null,"Frutas extras: "),(0,a._)("div",null,"Ações: ")])],-1))),c={id:"acai-table-rows"},h={class:"order-number"},p=["onChange"],v=["value","selected"],w=["onClick"],_={key:1},m=l((()=>(0,a._)("h2",null,"Não há pedidos no momento!",-1))),g=[m];function C(t,e,s,o,i,n){return i.orders?((0,a.wg)(),(0,a.iD)("div",r,[u,(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.orders,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"acai-table-row",key:t.id},[(0,a._)("div",h,(0,d.zw)(t.id),1),(0,a._)("div",null,(0,d.zw)(t.user_name),1),(0,a._)("div",null,(0,d.zw)(t.size),1),(0,a._)("div",null,(0,d.zw)(t.typeofcup),1),(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.extrafruits,((t,e)=>((0,a.wg)(),(0,a.iD)("ul",{key:e},[(0,a._)("li",null,(0,d.zw)(t),1)])))),128))]),(0,a._)("div",null,[(0,a._)("select",{name:"status",class:"status",onChange:e=>n.updateCup(e,t.id)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.status,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.type,key:e.id,selected:t.status==e.type},(0,d.zw)(e.type),9,v)))),128))],40,p),(0,a._)("button",{class:"delete-btn",onClick:e=>n.deleteCup(t.id)},"Cancelar",8,w)])])))),128))])])):((0,a.wg)(),(0,a.iD)("div",_,g))}var b={name:"DashboardComp",data(){return{orders:null,orderId:null,status:[]}},methods:{async getOrders(){const t=await fetch("http://localhost:8080/orders"),e=await t.json();this.orders=e,this.getStatus()},async getStatus(){const t=await fetch("http://localhost:8080/status"),e=await t.json();this.status=e,console.log(e)},async deleteCup(t){const e=await fetch(`http://localhost:8080/orders${t}`,{method:"DELETE"});await e.json();this.msg="Pedido removido com sucesso!",setTimeout((()=>this.msg=""),3e3),this.getOrders()},async updateCup(t,e){const s=t.target.value,a=JSON.stringify({status:s}),o=await fetch(`http://localhost:8080/orders/${e}`,{method:"PATCH",headers:{"content-Type":"application/json"},body:a}),i=await o.json();this.msg=`Pedido N ${i.id} foi atualizado para ${i.status}!`,setTimeout((()=>this.msg=""),3e3)}},mounted(){this.getOrders()}},y=s(89);const f=(0,y.Z)(b,[["render",C],["__scopeId","data-v-647be500"]]);var D=f,k={name:"Orders",components:{DashboardComp:D}};const z=(0,y.Z)(k,[["render",n]]);var j=z}}]);
//# sourceMappingURL=774.ebb48e54.js.map