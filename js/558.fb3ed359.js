"use strict";(self["webpackChunksecondpart_vue_prject"]=self["webpackChunksecondpart_vue_prject"]||[]).push([[558],{5558:function(t,e,a){a.r(e),a.d(e,{default:function(){return j}});var s=a(3396);const o=(0,s._)("h1",null," Gerenciar pedidos: ",-1);function n(t,e,a,n,d,i){const l=(0,s.up)("DashboardComp");return(0,s.wg)(),(0,s.iD)("div",null,[o,(0,s.Wm)(l)])}var d=a(7139);const i=t=>((0,s.dD)("data-v-35915509"),t=t(),(0,s.Cn)(),t),l={key:0,id:"acai-table"},r=i((()=>(0,s._)("div",null,[(0,s._)("div",{id:"acai-table-heading"},[(0,s._)("div",{class:"order-id"},"N pedido:"),(0,s._)("div",null,"Cliente: "),(0,s._)("div",null,"Tamanho do Copo: "),(0,s._)("div",null,"Fruta de base: "),(0,s._)("div",null,"Frutas extras: "),(0,s._)("div",null,"Ações: ")])],-1))),u={id:"acai-table-rows"},c={class:"order-number"},p=["onChange"],h=["value","selected"],v=["onClick"],w={key:1};function _(t,e,a,o,n,i){return n.orders.length>0?((0,s.wg)(),(0,s.iD)("div",l,[r,(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.orders,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"acai-table-row",key:t.objectId},[(0,s._)("div",c,(0,d.zw)(t.objectId),1),(0,s._)("div",null,(0,d.zw)(t.name),1),(0,s._)("div",null,(0,d.zw)(t.size),1),(0,s._)("div",null,(0,d.zw)(t.typeofcup),1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.extrafruits,((t,e)=>((0,s.wg)(),(0,s.iD)("ul",{key:e},[(0,s._)("li",null,(0,d.zw)(t),1)])))),128))]),(0,s._)("div",null,[(0,s._)("select",{name:"status",class:"status",onChange:e=>i.updateCup(e,t.objectId)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.status,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e.type,key:e.objectId,selected:t.status==e.type},(0,d.zw)(e.type),9,h)))),128))],40,p),(0,s._)("button",{class:"delete-btn",onClick:e=>i.deleteCup(t.objectId)},"Cancelar",8,v)])])))),128))])])):((0,s.wg)(),(0,s.iD)("div",w,"Não há pedidos no momento!"))}var g={name:"DashboardComp",data(){return{orders:[],objectId:null,status:[]}},methods:{async getOrders(){const t=await fetch("http://localhost:8080/orders"),e=await t.json();this.orders=e,this.getStatus()},async getStatus(){const t=await fetch("http://localhost:8080/status"),e=await t.json();this.status=e},async deleteCup(t){const e=await fetch(`http://localhost:8080/orders/${t}`,{method:"DELETE"});await e.json();this.getOrders()},async updateCup(t,e){const a=t.target.value,s=JSON.stringify({status:a}),o=await fetch(`http://localhost:8080/orders/${e}`,{method:"PATCH",headers:{"content-Type":"application/json"},mode:"cors",body:s}),n=await o.json();this.msg=`Pedido N ${n.objectId} foi atualizado para ${n.status}!`,setTimeout((()=>this.msg=""),3e3)}},mounted(){this.getOrders()}},b=a(89);const m=(0,b.Z)(g,[["render",_],["__scopeId","data-v-35915509"]]);var C=m,y={name:"Orders",components:{DashboardComp:C}};const f=(0,b.Z)(y,[["render",n]]);var j=f}}]);
//# sourceMappingURL=558.fb3ed359.js.map