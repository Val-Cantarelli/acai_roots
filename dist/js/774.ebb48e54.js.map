{"version":3,"file":"js/774.ebb48e54.js","mappings":"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","sources":["webpack://secondpart-vue-prject/./src/views/Orders.vue","webpack://secondpart-vue-prject/./src/components/DashboardComp.vue","webpack://secondpart-vue-prject/./src/components/DashboardComp.vue?bc13","webpack://secondpart-vue-prject/./src/views/Orders.vue?3d0e"],"sourcesContent":["<template>\n<div class=\"main-container\">\n    <h1> Gerenciar pedidos: </h1>\n    <DashboardComp />\n</div>\n</template>\n\n<script>\nimport DashboardComp from '../components/DashboardComp.vue';\n\nexport default {\n    name: \"Orders\",\n    components: {\n        DashboardComp\n    }\n}\n</script>","<template>\n\n    <div id=\"acai-table\" v-if=\"orders\">\n      <div>\n        <div id=\"acai-table-heading\">\n          <div class=\"order-id\">#:</div>\n          <div>Cliente: </div>\n          <div>Tamanho do Copo: </div>\n          <div>Fruta de base: </div>\n          <div>Frutas extras: </div>\n          <div>Ações: </div>\n        </div>\n      </div>\n\n      <div id=\"acai-table-rows\">\n        <div class=\"acai-table-row\" v-for=\"order in orders\" :key=\"order.id\" >\n          <div class=\"order-number\">{{ order.id }}</div>\n          <div> {{ order.user_name }} </div>\n          <div>{{ order.size }}</div>\n          <div>{{ order.typeofcup }}</div>\n          <div>\n            <ul v-for=\"(extrafruit,index) in order.extrafruits\" :key=\"index\">\n              <li> {{ extrafruit }}</li>\n            </ul>\n          </div>\n          <div>\n            <select name=\"status\" class=\"status\" @change=\"updateCup($event,order.id)\">\n              <!--<option :value=\"s.type\">Solicitado</option>-->\n              <option :value=\"s.type\" v-for=\"s in status\" :key=\"s.id\" :selected=\"order.status == s.type\">\n                {{ s.type }}\n              </option>\n            </select>\n\n            <button class=\"delete-btn\" @click=\"deleteCup(order.id)\">Cancelar</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-else>\n    <h2>Não há pedidos no momento!</h2>\n  </div>\n           \n</template>\n\n<script>\n\nexport default {\n    name: \"DashboardComp\",\n    data() {\n        return {\n          orders: null,\n          orderId: null,\n          status: []\n        }\n    },\n    methods: {\n        async getOrders() {\n            //TAREFA: resgatar pedidos registrados do backend\n            // Requisição ao servidor usando a rota orders(onde eu salvei os pedidos registrados)\n            const req= await fetch(\"http://localhost:8080/orders\");\n\n            //Passar a resposta para Json e guarda em data\n            const data = await req.json();\n\n            // this.orders que o template vai usar, vai ser retirado do conteúdo resposta traduzido e armazenado na variável data acima\n            this.orders= data;\n\n\n            //TAREFA: Resgatar status do backend\n            this.getStatus();\n        },\n        async getStatus() {\n            const req= await fetch(\"http://localhost:8080/status\");\n            const data = await req.json(); \n            this.status = data;\n            console.log(data);\n\n        },\n\n        async deleteCup(id) {\n            //Poderia ter uma lógica na api que faria a remoção desse item\n            const req=await fetch(`http://localhost:8080/orders${id}`,{\n                method: \"DELETE\"\n            });\n\n            const res= await req.json();\n\n            //Mensagem ao usuário:\n            this.msg=\"Pedido removido com sucesso!\";\n            \n            //Limpar mensagem e campos do form após realização do pedido\n            setTimeout(()=> this.msg = \"\", 3000);\n\n            //msg falando que pedido que foi deletado (mostrar pro adm e user)\n\n\n            //Vai forçar a atualização dos pedidos por meio do backend. E np fim das contas terão sido feitas 3 requisições. \n            //Alternativa à isso é fazer na mão: pegar os itens de orders, excluir o id e reproduz replicando o conteúdo do data do componente, fazendo uma requisição a menos no BE\n            this.getOrders();\n        },\n        async updateCup(event,id) {\n\n          const option = event.target.value;\n\n          const dataJson= JSON.stringify({status:option});\n\n          const req = await fetch(`http://localhost:8080/orders/${id}`, {\n            method: \"PATCH\",\n            headers: { \"content-Type\": \"application/json\" },\n            body: dataJson\n          });\n          const res = await req.json();\n\n          //Mensagem ao usuário:\n          this.msg=`Pedido N ${res.id} foi atualizado para ${res.status}!`;\n            \n            //Limpar mensagem e campos do form após realização do pedido\n            setTimeout(()=> this.msg = \"\", 3000);\n        }\n\n\n    },\n    mounted() {\n         //Quando o componente é montade, ele chama, de fato, o método que\n        // cria as info das solicitações\n        this.getOrders()}\n}\n</script>\n\n<style scoped>\n    #acai-table {\n    max-width: 1200px;\n    margin: 0 auto;\n  }\n\n  #acai-table-heading,\n  #acai-table-rows,\n  .acai-table-row {\n    display:flex;\n    flex-wrap: wrap;\n  }\n\n  #acai-table-heading {\n    font-weight: bold;\n    padding: 12px;\n    border-bottom: 3px solid #333;\n  }\n\n  .acai-table-row {\n    width: 100%;\n    padding: 12px;\n    border-bottom: 1px solid #CCC;\n  }\n\n  #acai-table-heading div,\n  .acai-table-row div {\n    width: 19%;\n  }\n\n  #acai-table-heading .order-id,\n  .acai-table-row .order-number {\n    width: 5%;\n  }\n\n  select {\n    padding: 12px 6px;\n    margin-right: 12px;\n  }\n\n  .delete-btn {\n    background-color:#a58254 ;\n    color:#fff;\n    font-weight: bold;\n    border: 2px solid #631452;\n    padding: 10px;\n    font-size: 16px;\n    margin: 0 auto;\n    cursor: pointer;\n    transition: 0.5s;\n    \n  }\n  \n  .delete-btn:hover {\n    background-color: transparent;\n    color: #222;\n  }\n</style>","import { render } from \"./DashboardComp.vue?vue&type=template&id=647be500&scoped=true\"\nimport script from \"./DashboardComp.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardComp.vue?vue&type=script&lang=js\"\n\nimport \"./DashboardComp.vue?vue&type=style&index=0&id=647be500&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-647be500\"]])\n\nexport default __exports__","import { render } from \"./Orders.vue?vue&type=template&id=17db3416\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_DashboardComp","id","_hoisted_9","$data","orders","_hoisted_3","_Fragment","_renderList","order","key","_hoisted_4","_toDisplayString","user_name","size","typeofcup","extrafruits","extrafruit","index","name","onChange","$event","$options","updateCup","status","s","value","type","selected","_hoisted_6","onClick","deleteCup","_hoisted_7","_hoisted_8","_hoisted_10","data","orderId","methods","getOrders","req","fetch","json","this","getStatus","console","log","method","msg","setTimeout","event","option","target","dataJson","JSON","stringify","headers","body","res","mounted","__exports__","components","DashboardComp","render"],"sourceRoot":""}